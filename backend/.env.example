# ============================================
# JECAPH BACKEND ENVIRONMENT CONFIGURATION
# Copy this file to .env and fill in your values
# ============================================

# Server Configuration
NODE_ENV=development
PORT=3000
API_BASE_URL=http://localhost:3000/api

# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:3001

# ============================================
# SUPABASE CONFIGURATION (Required)
# ============================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_KEY=your-service-role-key

# Legacy DATABASE_URL (optional - for Prisma compatibility)
DATABASE_URL=postgresql://postgres:password@localhost:5432/jecaph

# ============================================
# JWT CONFIGURATION (Required)
# ============================================
JWT_SECRET=your-super-secret-jwt-key-minimum-256-bits-change-in-production
JWT_ACCESS_TOKEN_EXPIRES_IN=1h
JWT_REFRESH_TOKEN_EXPIRES_IN=7d

# ============================================
# PAYSTACK CONFIGURATION (Required for payments)
# ============================================
PAYSTACK_SECRET_KEY=sk_test_xxx
PAYSTACK_PUBLIC_KEY=pk_test_xxx
PAYSTACK_CALLBACK_URL=http://localhost:3001/dashboard/payments/verify
PAYSTACK_WEBHOOK_SECRET=whsec_xxx

# ============================================
# REDIS CONFIGURATION (Required for rate limiting)
# ============================================
# Option 1: Upstash (recommended for production)
REDIS_URL=redis://default:xxx@redis.upstash.io:6379

# Option 2: Local/Cloud Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================
# EMAIL CONFIGURATION (Required)
# ============================================
# Primary: SMTP (Nodemailer)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM=noreply@jecaph.com
EMAIL_FROM_NAME=JECAPH Hostel Management

# Alternative: SendGrid (optional)
SENDGRID_API_KEY=SG.xxx
SENDGRID_FROM_EMAIL=noreply@jecaph.com
SENDGRID_FROM_NAME=Jecaph Hostels

# Alternative: Resend (optional)
RESEND_API_KEY=re_xxx

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,webp,pdf

# ============================================
# OTP CONFIGURATION
# ============================================
OTP_EXPIRY_MINUTES=10
OTP_LENGTH=6

# ============================================
# PASSWORD RESET CONFIGURATION
# ============================================
PASSWORD_RESET_TOKEN_EXPIRY_MINUTES=60

# ============================================
# APPLICATION CONFIGURATION
# ============================================
APP_NAME=JECAPH Hostel Management System
SUPPORT_EMAIL=support@jecaph.com
SUPPORT_PHONE=+233 XX XXXX XXXX

# ============================================
# CORS CONFIGURATION
# ============================================
CORS_ORIGIN=http://localhost:3001

# ============================================
# WEBSOCKET CONFIGURATION
# ============================================
WEBSOCKET_URL=ws://localhost:3000
WS_PING_INTERVAL=30000
WS_MAX_CONNECTIONS=1000

# ============================================
# CACHE TTL (seconds)
# ============================================
CACHE_TTL_ROOMS=300
CACHE_TTL_PROFILES=3600
CACHE_TTL_SETTINGS=86400

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=info
LOG_FILE=logs/app.log

# ============================================
# MONITORING (Optional)
# ============================================
# SENTRY_DSN=https://xxx@sentry.io/xxx
